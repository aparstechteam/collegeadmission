import{I as R,r as s,D,j as U,k as V,l as e,E as k,s as l,G as n,v as B,H as N,J as j}from"./index.29cab8c1.js";import{r as w,l as C}from"./api.84595ed4.js";const E={class:"container py-20 mx-auto"},M=e("h1",{class:"text-center text-3xl font-bold"},"Register",-1),I={class:"max-w-md mx-auto"},J=["onSubmit"],K={class:"form-control"},q=e("label",{for:"name"},"Name",-1),z={class:"form-control"},G=e("label",{for:"email"},"Email",-1),H={class:"form-control"},O=e("label",{for:"phone"},"Phone",-1),P={class:"form-control"},T=e("label",{for:"school"},"School",-1),A={class:"form-control"},F=e("label",{for:"division"},"Division",-1),L=j('<option value="Dhaka">Dhaka</option><option value="Chittagong">Chittagong</option><option value="Khulna">Khulna</option><option value="Barisal">Barisal</option><option value="Rajshahi">Rajshahi</option><option value="Rangpur">Rangpur</option><option value="Sylhet">Sylhet</option>',7),Q=[L],W={class:"mt-5 text-center"},$={setup(X){const v=R(),i=s(""),r=s(""),a=s(v.query.phone),u=s(""),d=s("Dhaka"),h=D(),c=s(!1),m=()=>{c.value=!0;let p=a.value.substr(a.value.length-10),t={name:i.value,email:r.value,phone:p,school:u.value,division:d.value};w(t).then(()=>{C(p).then(o=>{let _=o.user,[f,g,b,x,y]=_,S={phone:f,roll:g,name:b,email:x,school:y};localStorage.setItem("ca22",JSON.stringify(S)),h.push("/")}).catch(o=>{console.log(o)})}).catch(o=>{console.log(o),c.value=!1})};return(p,t)=>(U(),V("div",E,[M,e("div",I,[e("form",{onSubmit:k(m,["prevent"])},[e("div",K,[q,l(e("input",{class:"input input-bordered",type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o)},null,512),[[n,i.value]])]),e("div",z,[G,l(e("input",{class:"input input-bordered",type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=o=>r.value=o)},null,512),[[n,r.value]])]),e("div",H,[O,l(e("input",{class:"input input-bordered",type:"text",id:"phone","onUpdate:modelValue":t[2]||(t[2]=o=>a.value=o)},null,512),[[n,a.value]])]),e("div",P,[T,l(e("input",{class:"input input-bordered",type:"text",id:"school","onUpdate:modelValue":t[3]||(t[3]=o=>u.value=o)},null,512),[[n,u.value]])]),e("div",A,[F,l(e("select",{id:"division","onUpdate:modelValue":t[4]||(t[4]=o=>d.value=o),class:"select select-bordered"},Q,512),[[B,d.value]])]),e("div",W,[e("button",{class:N(["btn",{loading:c.value}])}," Register ",2)])],40,J)])]))}};export{$ as default};
